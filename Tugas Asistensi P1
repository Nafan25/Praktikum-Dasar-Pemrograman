#include <stdio.h>
#include <string.h>

#define MAX_BARANG 100
#define NAMA_MAX 50

typedef struct {
    char nama[NAMA_MAX];
    float harga;
    int jumlah;
    float diskon; // Diskon dalam persen
} Barang;

int main() {
    Barang barang[MAX_BARANG];
    int jumlah_barang = 0;
    char lagi;

    do {
        if (jumlah_barang >= MAX_BARANG) {
            printf("Jumlah barang sudah maksimal.\n");
            break;
        }

        printf("\nMasukkan nama barang: ");
        scanf("%s", barang[jumlah_barang].nama);
        
        printf("Masukkan harga barang: ");
        scanf("%f", &barang[jumlah_barang].harga);
        
        printf("Masukkan jumlah barang: ");
        scanf("%d", &barang[jumlah_barang].jumlah);
        
        printf("Masukkan diskon (dalam persen): ");
        scanf("%f", &barang[jumlah_barang].diskon);
        
        jumlah_barang++;

        printf("Apakah Anda ingin memasukkan barang lagi? (y/n): ");
        scanf(" %c", &lagi);

    } while (lagi == 'y' || lagi == 'Y');

    printf("\nRincian Belanja:\n");
    printf("%-20s %-10s %-10s %-10s %-15s %-15s\n", "Nama Barang", "Harga", "Jumlah", "Diskon", "Total Sebelum Diskon", "Total Setelah Diskon");
    
    float grand_total_sebelum = 0, grand_total_setelah = 0;

    for (int i = 0; i < jumlah_barang; i++) {
        float total_sebelum = barang[i].harga * barang[i].jumlah;
        float total_setelah = total_sebelum * (1 - (barang[i].diskon / 100));

        printf("%-20s %-10.2f %-10d %-10.2f %-15.2f %-15.2f\n", 
                barang[i].nama, 
                barang[i].harga, 
                barang[i].jumlah, 
                barang[i].diskon, 
                total_sebelum, 
                total_setelah);

        grand_total_sebelum += total_sebelum;
        grand_total_setelah += total_setelah;
    }

    printf("\nGrand Total Sebelum Diskon: %.2f\n", grand_total_sebelum);
    printf("Grand Total Setelah Diskon: %.2f\n", grand_total_setelah);

    return 0;
}

